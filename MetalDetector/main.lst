gplink-1.4.2 #1169 (Jan 11 2016)
Copyright (c) 1998-2015 gputils project
Listing File Generated: 2-17-2016  11:46:45
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;--------------------------------------------------------
                                           ; File Created by SDCC : free open source ANSI-C Compiler
                                           ; Version 3.5.0 #9253 (Jan 11 2016) (Linux)
                                           ; This file was generated Wed Feb 17 11:46:45 2016
                                           ;--------------------------------------------------------
                                           ; PIC port for the 14-bit core
                                           ;--------------------------------------------------------
                                           ;	.file	"main.c"
                                           	list	p=16f630
                                           	radix dec
                                           	include "p16f630.inc"
                                                   LIST
                                           
                                           ;==========================================================================
                                           ; Build date : Oct 21 2015
                                           ;  MPASM PIC16F630 processor include
                                           ; 
                                           ;  (c) Copyright 1999-2015 Microchip Technology, All rights reserved
                                           ;==========================================================================
                                           
                                                   NOLIST
                                           ;--------------------------------------------------------
                                           ; config word(s)
                                           ;--------------------------------------------------------
002007   3fd2     addlw   0xd2             	__config 0x3fd2
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	__print_format
                                           	extern	_printf_small
                                           	extern	_printf
                                           	extern	_vprintf
                                           	extern	_sprintf
                                           	extern	_vsprintf
                                           	extern	_puts
                                           	extern	_gets
                                           	extern	_getchar
                                           	extern	_putchar
                                           	extern	_PORT_CONFIG
                                           	extern	_TIMER_CONFIG
                                           	extern	_send_signal
                                           	extern	_STATUSbits
                                           	extern	_PORTAbits
                                           	extern	_PORTCbits
                                           	extern	_INTCONbits
                                           	extern	_PIR1bits
                                           	extern	_T1CONbits
                                           	extern	_CMCONbits
                                           	extern	_OPTION_REGbits
                                           	extern	_TRISAbits
                                           	extern	_TRISCbits
                                           	extern	_PIE1bits
                                           	extern	_PCONbits
                                           	extern	_OSCCALbits
                                           	extern	_WPUbits
                                           	extern	_WPUAbits
                                           	extern	_IOCbits
                                           	extern	_IOCAbits
                                           	extern	_VRCONbits
                                           	extern	_EECON1bits
                                           	extern	_INDF
                                           	extern	_TMR0
                                           	extern	_PCL
                                           	extern	_STATUS
                                           	extern	_FSR
                                           	extern	_PORTA
                                           	extern	_PORTC
                                           	extern	_PCLATH
                                           	extern	_INTCON
                                           	extern	_PIR1
                                           	extern	_TMR1
                                           	extern	_TMR1L
                                           	extern	_TMR1H
                                           	extern	_T1CON
                                           	extern	_CMCON
                                           	extern	_OPTION_REG
                                           	extern	_TRISA
                                           	extern	_TRISC
                                           	extern	_PIE1
                                           	extern	_PCON
                                           	extern	_OSCCAL
                                           	extern	_WPU
                                           	extern	_WPUA
                                           	extern	_IOC
                                           	extern	_IOCA
                                           	extern	_VRCON
                                           	extern	_EEDAT
                                           	extern	_EEDATA
                                           	extern	_EEADR
                                           	extern	_EECON1
                                           	extern	_EECON2
                                           	extern	__sdcc_gsinit_startup
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_check_generator
                                           	global	_sensitivity_down
                                           	global	_sensitivity_up
                                           	global	_calibration
                                           	global	_send_error
                                           	global	_delay_ms
                                           	global	_dr_metal
                                           	global	_bl_metal
                                           	global	_main
                                           	global	_calibration_complete
                                           	global	_buffer_high
                                           	global	_buffer_low
                                           	global	_sensitivity
                                           
                                           	global PSAVE
                                           	global SSAVE
                                           	global WSAVE
                                           	global STK12
                                           	global STK11
                                           	global STK10
                                           	global STK09
                                           	global STK08
                                           	global STK07
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0020
                                           PSAVE	res 1
                                           SSAVE	res 1
                                           WSAVE	res 1
                                           STK12	res 1
                                           STK11	res 1
                                           STK10	res 1
                                           STK09	res 1
                                           STK08	res 1
                                           STK07	res 1
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_main_0	udata
                                           _calibration_complete	res	1
                                           
                                           UD_main_1	udata
                                           _buffer_high	res	1
                                           
                                           UD_main_2	udata
                                           _buffer_low	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_main_0	udata
                                           r0x1005	res	1
                                           r0x1004	res	1
                                           r0x1006	res	1
                                           r0x1007	res	1
                                           r0x1008	res	1
                                           r0x1009	res	1
                                           r0x100A	res	1
                                           r0x100B	res	1
                                           r0x100C	res	1
                                           r0x100D	res	1
                                           r0x100E	res	1
                                           r0x100F	res	1
                                           r0x1010	res	1
                                           r0x1011	res	1
                                           r0x1012	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ID_main_0	idata
                                           _sensitivity
                                           	db	0x00
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
000000   0000     nop                      	nop
                                           	pagesel __sdcc_gsinit_startup
000001   2955     goto    0x0155           	goto	__sdcc_gsinit_startup
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_main	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _calibration
                                           ;   _check_generator
                                           ;   _sensitivity_up
                                           ;   _sensitivity_down
                                           ;   _delay_ms
                                           ;   _calibration
                                           ;   _delay_ms
                                           ;   _calibration
                                           ;   _check_generator
                                           ;   _sensitivity_up
                                           ;   _sensitivity_down
                                           ;   _delay_ms
                                           ;   _calibration
                                           ;3 compiler assigned registers:
                                           ;   r0x1011
                                           ;   r0x1012
                                           ;   STK00
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	127; "main.c"	T1CON = 0;
000002   1283     bcf     0x03, 0x5        	BANKSEL	_T1CON
000003   0190     clrf    0x10             	CLRF	_T1CON
                                           ;	.line	128; "main.c"	TMR1H = 0;
000004   018f     clrf    0x0f             	CLRF	_TMR1H
                                           ;	.line	129; "main.c"	TMR1L = 0;
000005   018e     clrf    0x0e             	CLRF	_TMR1L
                                           ;	.line	130; "main.c"	TRC = 0b00111000;
000006   3038     movlw   0x38             	MOVLW	0x38
000007   1683     bsf     0x03, 0x5        	BANKSEL	_TRISC
000008   0087     movwf   0x07             	MOVWF	_TRISC
                                           ;	.line	131; "main.c"	PTC = 0;
000009   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
00000a   0187     clrf    0x07             	CLRF	_PORTC
                                           ;	.line	132; "main.c"	TRA = 0b00000100;
00000b   3004     movlw   0x04             	MOVLW	0x04
00000c   1683     bsf     0x03, 0x5        	BANKSEL	_TRISA
00000d   0085     movwf   0x05             	MOVWF	_TRISA
                                           ;	.line	133; "main.c"	PTA = 0;
00000e   1283     bcf     0x03, 0x5        	BANKSEL	_PORTA
00000f   0185     clrf    0x05             	CLRF	_PORTA
                                           ;	.line	134; "main.c"	setbit(PTC,1);                              // no calibration LED_RED
000010   1487     bsf     0x07, 0x1        	BSF	_PORTC,1
                                           _00253_DS_
                                           ;	.line	135; "main.c"	while (calibration_complete==0) {           //wait for calibration
000011   3000     movlw   0x00             	MOVLW	0x00
000012   044b     iorwf   0x4b, 0x0        	IORWF	_calibration_complete,W
000013   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
000014   2840     goto    0x0040           	GOTO	_00271_DS_
                                           ;	.line	136; "main.c"	if (rdbit(PTC,3)==1){
000015   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
000016   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
000017   3908     andlw   0x08             	ANDLW	0x08
000018   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
000019   3001     movlw   0x01             	MOVLW	0x01
00001a   00bd     movwf   0x3d             	MOVWF	r0x1011
00001b   00be     movwf   0x3e             	MOVWF	r0x1012
00001c   3a01     xorlw   0x01             	XORLW	0x01
00001d   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
00001e   2835     goto    0x0035           	GOTO	_00250_DS_
                                           ;	.line	137; "main.c"	delay_ms(5);            //contact bounce
00001f   3005     movlw   0x05             	MOVLW	0x05
000020   00af     movwf   0x2f             	MOVWF	STK00
000021   3000     movlw   0x00             	MOVLW	0x00
000022   2135     call    0x0135           	CALL	_delay_ms
                                           ;	.line	138; "main.c"	if(rdbit(PTC,3)==1){
000023   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
000024   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
000025   3908     andlw   0x08             	ANDLW	0x08
000026   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
000027   3001     movlw   0x01             	MOVLW	0x01
000028   00bd     movwf   0x3d             	MOVWF	r0x1011
000029   00be     movwf   0x3e             	MOVWF	r0x1012
00002a   3a01     xorlw   0x01             	XORLW	0x01
00002b   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
00002c   2835     goto    0x0035           	GOTO	_00250_DS_
                                           ;	.line	139; "main.c"	calibration();
00002d   20dc     call    0x00dc           	CALL	_calibration
                                           ;	.line	140; "main.c"	setbit(PTC,2);  //set LED_GREEN
00002e   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
00002f   1507     bsf     0x07, 0x2        	BSF	_PORTC,2
                                           ;	.line	141; "main.c"	clrbit(PTC,1);
000030   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
000031   00bd     movwf   0x3d             	MOVWF	r0x1011
000032   30fd     movlw   0xfd             	MOVLW	0xfd
000033   053d     andwf   0x3d, 0x0        	ANDWF	r0x1011,W
000034   0087     movwf   0x07             	MOVWF	_PORTC
                                           _00250_DS_
                                           ;	.line	144; "main.c"	while(rdbit(PTC,3)==1);
000035   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
000036   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
000037   3908     andlw   0x08             	ANDLW	0x08
000038   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
000039   3001     movlw   0x01             	MOVLW	0x01
00003a   00bd     movwf   0x3d             	MOVWF	r0x1011
00003b   00be     movwf   0x3e             	MOVWF	r0x1012
00003c   3a01     xorlw   0x01             	XORLW	0x01
00003d   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
00003e   2811     goto    0x0011           	GOTO	_00253_DS_
00003f   2835     goto    0x0035           	GOTO	_00250_DS_
                                           _00271_DS_
                                           ;	.line	147; "main.c"	INTF=0;                             //start detect
000040   1283     bcf     0x03, 0x5        	BANKSEL	_INTCONbits
000041   108b     bcf     0x0b, 0x1        	BCF	_INTCONbits,1
                                           _00256_DS_
                                           ;	.line	148; "main.c"	while (INTF==0);
000042   1283     bcf     0x03, 0x5        	BANKSEL	_INTCONbits
000043   1c8b     btfss   0x0b, 0x1        	BTFSS	_INTCONbits,1
000044   2842     goto    0x0042           	GOTO	_00256_DS_
                                           ;	.line	149; "main.c"	TMR1ON =1;
000045   1410     bsf     0x10, 0x0        	BSF	_T1CONbits,0
                                           ;	.line	150; "main.c"	INTF=0;
000046   108b     bcf     0x0b, 0x1        	BCF	_INTCONbits,1
                                           _00259_DS_
                                           ;	.line	151; "main.c"	while (INTF==0);
000047   1283     bcf     0x03, 0x5        	BANKSEL	_INTCONbits
000048   1c8b     btfss   0x0b, 0x1        	BTFSS	_INTCONbits,1
000049   2847     goto    0x0047           	GOTO	_00259_DS_
                                           ;	.line	152; "main.c"	TMR1ON=0;
00004a   1010     bcf     0x10, 0x0        	BCF	_T1CONbits,0
                                           ;	.line	153; "main.c"	TH=TMR1H;
00004b   080f     movf    0x0f, 0x0        	MOVF	_TMR1H,W
00004c   00bd     movwf   0x3d             	MOVWF	r0x1011
                                           ;	.line	154; "main.c"	TL=TMR1L;
00004d   080e     movf    0x0e, 0x0        	MOVF	_TMR1L,W
                                           ;	.line	155; "main.c"	check_generator(TH,TL);
00004e   00be     movwf   0x3e             	MOVWF	r0x1012
00004f   00af     movwf   0x2f             	MOVWF	STK00
000050   083d     movf    0x3d, 0x0        	MOVF	r0x1011,W
000051   2081     call    0x0081           	CALL	_check_generator
                                           ;	.line	156; "main.c"	if(rdbit(PTC,4)==1){sensitivity_up();}
000052   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
000053   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
000054   3910     andlw   0x10             	ANDLW	0x10
000055   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
000056   3001     movlw   0x01             	MOVLW	0x01
000057   00bd     movwf   0x3d             	MOVWF	r0x1011
000058   00be     movwf   0x3e             	MOVWF	r0x1012
                                           ;	.line	157; "main.c"	if(rdbit(PTC,5)==1){sensitivity_down();}
000059   3a01     xorlw   0x01             	XORLW	0x01
00005a   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
00005b   20bb     call    0x00bb           	CALL	_sensitivity_up
00005c   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
00005d   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
00005e   3920     andlw   0x20             	ANDLW	0x20
00005f   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
000060   3001     movlw   0x01             	MOVLW	0x01
000061   00bd     movwf   0x3d             	MOVWF	r0x1011
000062   00be     movwf   0x3e             	MOVWF	r0x1012
                                           ;	.line	158; "main.c"	if(rdbit(PTC,3)==1) {
000063   3a01     xorlw   0x01             	XORLW	0x01
000064   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
000065   209a     call    0x009a           	CALL	_sensitivity_down
000066   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
000067   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
000068   3908     andlw   0x08             	ANDLW	0x08
000069   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
00006a   3001     movlw   0x01             	MOVLW	0x01
00006b   00bd     movwf   0x3d             	MOVWF	r0x1011
00006c   00be     movwf   0x3e             	MOVWF	r0x1012
00006d   3a01     xorlw   0x01             	XORLW	0x01
00006e   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
00006f   2840     goto    0x0040           	GOTO	_00271_DS_
                                           ;	.line	159; "main.c"	delay_ms(5);                //contact bounce
000070   3005     movlw   0x05             	MOVLW	0x05
000071   00af     movwf   0x2f             	MOVWF	STK00
000072   3000     movlw   0x00             	MOVLW	0x00
000073   2135     call    0x0135           	CALL	_delay_ms
                                           ;	.line	160; "main.c"	if(rdbit(PTC,3)==1){
000074   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
000075   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
000076   3908     andlw   0x08             	ANDLW	0x08
000077   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
000078   3001     movlw   0x01             	MOVLW	0x01
000079   00bd     movwf   0x3d             	MOVWF	r0x1011
00007a   00be     movwf   0x3e             	MOVWF	r0x1012
00007b   3a01     xorlw   0x01             	XORLW	0x01
00007c   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
00007d   2840     goto    0x0040           	GOTO	_00271_DS_
                                           ;	.line	161; "main.c"	calibration();
00007e   20dc     call    0x00dc           	CALL	_calibration
00007f   2840     goto    0x0040           	GOTO	_00271_DS_
000080   0008     return                   	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _check_generator	;Function start
                                           ; 0 exit points
                                           ;functions called:
                                           ;   _send_error
                                           ;   _dr_metal
                                           ;   _bl_metal
                                           ;   _send_error
                                           ;   _dr_metal
                                           ;   _bl_metal
                                           ;5 compiler assigned registers:
                                           ;   r0x100D
                                           ;   STK00
                                           ;   r0x100E
                                           ;   r0x100F
                                           ;   r0x1010
                                           ;; Starting pCode block
                                           _check_generator	;Function start
                                           ; 0 exit points
                                           ;	.line	109; "main.c"	void check_generator( unsigned char Hbyte, unsigned char Lbyte ){
000081   00b9     movwf   0x39             	MOVWF	r0x100D
000082   082f     movf    0x2f, 0x0        	MOVF	STK00,W
000083   00ba     movwf   0x3a             	MOVWF	r0x100E
                                           ;	.line	113; "main.c"	buffer_sensetivity = buffer_low;
000084   084d     movf    0x4d, 0x0        	MOVF	_buffer_low,W
000085   00bb     movwf   0x3b             	MOVWF	r0x100F
                                           ;	.line	115; "main.c"	for(i=0;i<sensitivity;i++){
000086   01bc     clrf    0x3c             	CLRF	r0x1010
                                           _00220_DS_
000087   084e     movf    0x4e, 0x0        	MOVF	_sensitivity,W
000088   023c     subwf   0x3c, 0x0        	SUBWF	r0x1010,W
000089   1803     btfsc   0x03, 0x0        	BTFSC	STATUS,0
00008a   288d     goto    0x008d           	GOTO	_00212_DS_
                                           ;;genSkipc:3247: created from rifx:0x7ffc9084bb80
00008b   0abc     incf    0x3c, 0x1        	INCF	r0x1010,F
00008c   2887     goto    0x0087           	GOTO	_00220_DS_
                                           _00212_DS_
                                           ;	.line	119; "main.c"	if(Hbyte != buffer_high){send_error();}
00008d   084c     movf    0x4c, 0x0        	MOVF	_buffer_high,W
                                           ;	.line	120; "main.c"	if(buffer_timer<buffer_sensetivity){dr_metal();}
00008e   0639     xorwf   0x39, 0x0        	XORWF	r0x100D,W
00008f   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
000090   20f0     call    0x00f0           	CALL	_send_error
000091   083b     movf    0x3b, 0x0        	MOVF	r0x100F,W
                                           ;	.line	121; "main.c"	if(buffer_timer>buffer_sensetivity){bl_metal();}
000092   023a     subwf   0x3a, 0x0        	SUBWF	r0x100E,W
000093   1c03     btfss   0x03, 0x0        	BTFSS	STATUS,0
000094   2124     call    0x0124           	CALL	_dr_metal
000095   083a     movf    0x3a, 0x0        	MOVF	r0x100E,W
000096   023b     subwf   0x3b, 0x0        	SUBWF	r0x100F,W
000097   1c03     btfss   0x03, 0x0        	BTFSS	STATUS,0
000098   2113     call    0x0113           	CALL	_bl_metal
000099   0008     return                   	RETURN	
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sensitivity_down	;Function start
                                           ; 0 exit points
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;3 compiler assigned registers:
                                           ;   STK00
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;; Starting pCode block
                                           _sensitivity_down	;Function start
                                           ; 0 exit points
                                           ;	.line	101; "main.c"	delay_ms(5);
00009a   3005     movlw   0x05             	MOVLW	0x05
00009b   00af     movwf   0x2f             	MOVWF	STK00
00009c   3000     movlw   0x00             	MOVLW	0x00
00009d   2135     call    0x0135           	CALL	_delay_ms
                                           ;	.line	102; "main.c"	if(rdbit(PTC,5)==1 && sensitivity>0){
00009e   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
00009f   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
0000a0   3920     andlw   0x20             	ANDLW	0x20
0000a1   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000a2   3001     movlw   0x01             	MOVLW	0x01
0000a3   00b6     movwf   0x36             	MOVWF	r0x100A
0000a4   00b7     movwf   0x37             	MOVWF	r0x100B
0000a5   3a01     xorlw   0x01             	XORLW	0x01
0000a6   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000a7   28ac     goto    0x00ac           	GOTO	_00191_DS_
0000a8   3000     movlw   0x00             	MOVLW	0x00
                                           ;	.line	103; "main.c"	sensitivity--;
0000a9   044e     iorwf   0x4e, 0x0        	IORWF	_sensitivity,W
                                           ;	.line	105; "main.c"	delay_ms(5);
0000aa   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000ab   03ce     decf    0x4e, 0x1        	DECF	_sensitivity,F
                                           _00191_DS_
0000ac   3005     movlw   0x05             	MOVLW	0x05
0000ad   00af     movwf   0x2f             	MOVWF	STK00
0000ae   3000     movlw   0x00             	MOVLW	0x00
0000af   2135     call    0x0135           	CALL	_delay_ms
                                           _00193_DS_
                                           ;	.line	106; "main.c"	while(rdbit(PTC,5)==1);
0000b0   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
0000b1   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
0000b2   3920     andlw   0x20             	ANDLW	0x20
0000b3   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000b4   3001     movlw   0x01             	MOVLW	0x01
0000b5   00b6     movwf   0x36             	MOVWF	r0x100A
0000b6   00b7     movwf   0x37             	MOVWF	r0x100B
0000b7   3a01     xorlw   0x01             	XORLW	0x01
0000b8   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
0000b9   28b0     goto    0x00b0           	GOTO	_00193_DS_
0000ba   0008     return                   	RETURN	
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sensitivity_up	;Function start
                                           ; 0 exit points
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;3 compiler assigned registers:
                                           ;   STK00
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;; Starting pCode block
                                           _sensitivity_up	;Function start
                                           ; 0 exit points
                                           ;	.line	93; "main.c"	delay_ms(5);
0000bb   3005     movlw   0x05             	MOVLW	0x05
0000bc   00af     movwf   0x2f             	MOVWF	STK00
0000bd   3000     movlw   0x00             	MOVLW	0x00
0000be   2135     call    0x0135           	CALL	_delay_ms
                                           ;	.line	94; "main.c"	if(rdbit(PTC,4)==1 && sensitivity<5){
0000bf   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
0000c0   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
0000c1   3910     andlw   0x10             	ANDLW	0x10
0000c2   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000c3   3001     movlw   0x01             	MOVLW	0x01
0000c4   00b6     movwf   0x36             	MOVWF	r0x100A
0000c5   00b7     movwf   0x37             	MOVWF	r0x100B
0000c6   3a01     xorlw   0x01             	XORLW	0x01
0000c7   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000c8   28cd     goto    0x00cd           	GOTO	_00168_DS_
                                           ;;unsigned compare: left < lit(0x5=5), size=1
0000c9   3005     movlw   0x05             	MOVLW	0x05
                                           ;	.line	95; "main.c"	sensitivity++;
0000ca   024e     subwf   0x4e, 0x0        	SUBWF	_sensitivity,W
                                           ;	.line	97; "main.c"	delay_ms(5);
0000cb   1c03     btfss   0x03, 0x0        	BTFSS	STATUS,0
0000cc   0ace     incf    0x4e, 0x1        	INCF	_sensitivity,F
                                           _00168_DS_
0000cd   3005     movlw   0x05             	MOVLW	0x05
0000ce   00af     movwf   0x2f             	MOVWF	STK00
0000cf   3000     movlw   0x00             	MOVLW	0x00
0000d0   2135     call    0x0135           	CALL	_delay_ms
                                           _00170_DS_
                                           ;	.line	98; "main.c"	while(rdbit(PTC,4)==1);
0000d1   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
0000d2   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
0000d3   3910     andlw   0x10             	ANDLW	0x10
0000d4   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000d5   3001     movlw   0x01             	MOVLW	0x01
0000d6   00b6     movwf   0x36             	MOVWF	r0x100A
0000d7   00b7     movwf   0x37             	MOVWF	r0x100B
0000d8   3a01     xorlw   0x01             	XORLW	0x01
0000d9   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
0000da   28d1     goto    0x00d1           	GOTO	_00170_DS_
0000db   0008     return                   	RETURN	
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _calibration	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _calibration	;Function start
                                           ; 2 exit points
                                           ;	.line	79; "main.c"	INTF=0;
0000dc   1283     bcf     0x03, 0x5        	BANKSEL	_INTCONbits
0000dd   108b     bcf     0x0b, 0x1        	BCF	_INTCONbits,1
                                           _00159_DS_
                                           ;	.line	80; "main.c"	while(INTF==0);                         //wait for rising edge generator
0000de   1283     bcf     0x03, 0x5        	BANKSEL	_INTCONbits
0000df   1c8b     btfss   0x0b, 0x1        	BTFSS	_INTCONbits,1
0000e0   28de     goto    0x00de           	GOTO	_00159_DS_
                                           ;	.line	81; "main.c"	TMR1ON=1;
0000e1   1410     bsf     0x10, 0x0        	BSF	_T1CONbits,0
                                           ;	.line	82; "main.c"	INTF =0;
0000e2   108b     bcf     0x0b, 0x1        	BCF	_INTCONbits,1
                                           _00162_DS_
                                           ;	.line	83; "main.c"	while(INTF==0);
0000e3   1283     bcf     0x03, 0x5        	BANKSEL	_INTCONbits
0000e4   1c8b     btfss   0x0b, 0x1        	BTFSS	_INTCONbits,1
0000e5   28e3     goto    0x00e3           	GOTO	_00162_DS_
                                           ;	.line	84; "main.c"	TMR1ON=0;
0000e6   1010     bcf     0x10, 0x0        	BCF	_T1CONbits,0
                                           ;	.line	85; "main.c"	buffer_high = TMR1H;
0000e7   080f     movf    0x0f, 0x0        	MOVF	_TMR1H,W
0000e8   00cc     movwf   0x4c             	MOVWF	_buffer_high
                                           ;	.line	86; "main.c"	buffer_low = TMR1L;
0000e9   080e     movf    0x0e, 0x0        	MOVF	_TMR1L,W
0000ea   00cd     movwf   0x4d             	MOVWF	_buffer_low
                                           ;	.line	87; "main.c"	TMR1L=0;
0000eb   018e     clrf    0x0e             	CLRF	_TMR1L
                                           ;	.line	88; "main.c"	TMR1H=0;
0000ec   018f     clrf    0x0f             	CLRF	_TMR1H
                                           ;	.line	89; "main.c"	calibration_complete=1;
0000ed   3001     movlw   0x01             	MOVLW	0x01
0000ee   00cb     movwf   0x4b             	MOVWF	_calibration_complete
0000ef   0008     return                   	RETURN	
                                           ; exit point of _calibration
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _send_error	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;4 compiler assigned registers:
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;   STK00
                                           ;   r0x100C
                                           ;; Starting pCode block
                                           _send_error	;Function start
                                           ; 2 exit points
                                           ;	.line	68; "main.c"	while(j<100) {
0000f0   01b6     clrf    0x36             	CLRF	r0x100A
0000f1   01b7     clrf    0x37             	CLRF	r0x100B
                                           ;;unsigned compare: left < lit(0x64=100), size=2
                                           _00142_DS_
0000f2   3000     movlw   0x00             	MOVLW	0x00
0000f3   0237     subwf   0x37, 0x0        	SUBWF	r0x100B,W
0000f4   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
0000f5   28f8     goto    0x00f8           	GOTO	_00154_DS_
0000f6   3064     movlw   0x64             	MOVLW	0x64
0000f7   0236     subwf   0x36, 0x0        	SUBWF	r0x100A,W
                                           _00154_DS_
0000f8   1803     btfsc   0x03, 0x0        	BTFSC	STATUS,0
0000f9   290e     goto    0x010e           	GOTO	_00144_DS_
                                           ;;genSkipc:3247: created from rifx:0x7ffc9084bb80
                                           ;	.line	69; "main.c"	setbit(PTC,0);
0000fa   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
0000fb   1407     bsf     0x07, 0x0        	BSF	_PORTC,0
                                           ;	.line	70; "main.c"	delay_ms(10);
0000fc   300a     movlw   0x0a             	MOVLW	0x0a
0000fd   00af     movwf   0x2f             	MOVWF	STK00
0000fe   3000     movlw   0x00             	MOVLW	0x00
0000ff   2135     call    0x0135           	CALL	_delay_ms
                                           ;	.line	71; "main.c"	clrbit(PTC,0);
000100   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
000101   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
000102   00b8     movwf   0x38             	MOVWF	r0x100C
000103   30fe     movlw   0xfe             	MOVLW	0xfe
000104   0538     andwf   0x38, 0x0        	ANDWF	r0x100C,W
000105   0087     movwf   0x07             	MOVWF	_PORTC
                                           ;	.line	72; "main.c"	delay_ms(10);
000106   300a     movlw   0x0a             	MOVLW	0x0a
000107   00af     movwf   0x2f             	MOVWF	STK00
000108   3000     movlw   0x00             	MOVLW	0x00
000109   2135     call    0x0135           	CALL	_delay_ms
                                           ;	.line	73; "main.c"	j++;
00010a   0ab6     incf    0x36, 0x1        	INCF	r0x100A,F
00010b   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
00010c   0ab7     incf    0x37, 0x1        	INCF	r0x100B,F
00010d   28f2     goto    0x00f2           	GOTO	_00142_DS_
                                           _00144_DS_
                                           ;	.line	75; "main.c"	delay_ms(1000);
00010e   30e8     movlw   0xe8             	MOVLW	0xe8
00010f   00af     movwf   0x2f             	MOVWF	STK00
000110   3003     movlw   0x03             	MOVLW	0x03
000111   2135     call    0x0135           	CALL	_delay_ms
000112   0008     return                   	RETURN	
                                           ; exit point of _send_error
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _bl_metal	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;2 compiler assigned registers:
                                           ;   STK00
                                           ;   r0x100A
                                           ;; Starting pCode block
                                           _bl_metal	;Function start
                                           ; 2 exit points
                                           ;	.line	60; "main.c"	setbit(PTC,0);
000113   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
000114   1407     bsf     0x07, 0x0        	BSF	_PORTC,0
                                           ;	.line	61; "main.c"	delay_ms(1);
000115   3001     movlw   0x01             	MOVLW	0x01
000116   00af     movwf   0x2f             	MOVWF	STK00
000117   3000     movlw   0x00             	MOVLW	0x00
000118   2135     call    0x0135           	CALL	_delay_ms
                                           ;	.line	62; "main.c"	clrbit(PTC,0);
000119   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
00011a   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
00011b   00b6     movwf   0x36             	MOVWF	r0x100A
00011c   30fe     movlw   0xfe             	MOVLW	0xfe
00011d   0536     andwf   0x36, 0x0        	ANDWF	r0x100A,W
00011e   0087     movwf   0x07             	MOVWF	_PORTC
                                           ;	.line	63; "main.c"	delay_ms(1);
00011f   3001     movlw   0x01             	MOVLW	0x01
000120   00af     movwf   0x2f             	MOVWF	STK00
000121   3000     movlw   0x00             	MOVLW	0x00
000122   2135     call    0x0135           	CALL	_delay_ms
000123   0008     return                   	RETURN	
                                           ; exit point of _bl_metal
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _dr_metal	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;2 compiler assigned registers:
                                           ;   STK00
                                           ;   r0x100A
                                           ;; Starting pCode block
                                           _dr_metal	;Function start
                                           ; 2 exit points
                                           ;	.line	54; "main.c"	setbit(PTC,0);
000124   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
000125   1407     bsf     0x07, 0x0        	BSF	_PORTC,0
                                           ;	.line	55; "main.c"	delay_ms(20);
000126   3014     movlw   0x14             	MOVLW	0x14
000127   00af     movwf   0x2f             	MOVWF	STK00
000128   3000     movlw   0x00             	MOVLW	0x00
000129   2135     call    0x0135           	CALL	_delay_ms
                                           ;	.line	56; "main.c"	clrbit(PTC,0);
00012a   1283     bcf     0x03, 0x5        	BANKSEL	_PORTC
00012b   0807     movf    0x07, 0x0        	MOVF	_PORTC,W
00012c   00b6     movwf   0x36             	MOVWF	r0x100A
00012d   30fe     movlw   0xfe             	MOVLW	0xfe
00012e   0536     andwf   0x36, 0x0        	ANDWF	r0x100A,W
00012f   0087     movwf   0x07             	MOVWF	_PORTC
                                           ;	.line	57; "main.c"	delay_ms(20);
000130   3014     movlw   0x14             	MOVLW	0x14
000131   00af     movwf   0x2f             	MOVWF	STK00
000132   3000     movlw   0x00             	MOVLW	0x00
000133   2135     call    0x0135           	CALL	_delay_ms
000134   0008     return                   	RETURN	
                                           ; exit point of _dr_metal
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;7 compiler assigned registers:
                                           ;   r0x1004
                                           ;   STK00
                                           ;   r0x1005
                                           ;   r0x1006
                                           ;   r0x1007
                                           ;   r0x1008
                                           ;   r0x1009
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	42; "main.c"	void delay_ms ( unsigned int ms) {
000135   00b1     movwf   0x31             	MOVWF	r0x1004
000136   082f     movf    0x2f, 0x0        	MOVF	STK00,W
000137   00b0     movwf   0x30             	MOVWF	r0x1005
                                           ;	.line	46; "main.c"	for(i=0;i<ms;i++){
000138   01b2     clrf    0x32             	CLRF	r0x1006
000139   01b3     clrf    0x33             	CLRF	r0x1007
                                           _00110_DS_
00013a   0831     movf    0x31, 0x0        	MOVF	r0x1004,W
00013b   0233     subwf   0x33, 0x0        	SUBWF	r0x1007,W
00013c   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
00013d   2940     goto    0x0140           	GOTO	_00128_DS_
00013e   0830     movf    0x30, 0x0        	MOVF	r0x1005,W
00013f   0232     subwf   0x32, 0x0        	SUBWF	r0x1006,W
                                           _00128_DS_
000140   1803     btfsc   0x03, 0x0        	BTFSC	STATUS,0
000141   2954     goto    0x0154           	GOTO	_00112_DS_
                                           ;;genSkipc:3247: created from rifx:0x7ffc9084bb80
                                           ;	.line	48; "main.c"	while(j<timerBuffer/50){j++;}
000142   01b4     clrf    0x34             	CLRF	r0x1008
000143   01b5     clrf    0x35             	CLRF	r0x1009
                                           ;;unsigned compare: left < lit(0x190=400), size=2
                                           _00105_DS_
000144   3001     movlw   0x01             	MOVLW	0x01
000145   0235     subwf   0x35, 0x0        	SUBWF	r0x1009,W
000146   1d03     btfss   0x03, 0x2        	BTFSS	STATUS,2
000147   294a     goto    0x014a           	GOTO	_00129_DS_
000148   3090     movlw   0x90             	MOVLW	0x90
000149   0234     subwf   0x34, 0x0        	SUBWF	r0x1008,W
                                           _00129_DS_
00014a   1803     btfsc   0x03, 0x0        	BTFSC	STATUS,0
00014b   2950     goto    0x0150           	GOTO	_00111_DS_
                                           ;;genSkipc:3247: created from rifx:0x7ffc9084bb80
00014c   0ab4     incf    0x34, 0x1        	INCF	r0x1008,F
00014d   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
00014e   0ab5     incf    0x35, 0x1        	INCF	r0x1009,F
00014f   2944     goto    0x0144           	GOTO	_00105_DS_
                                           _00111_DS_
                                           ;	.line	46; "main.c"	for(i=0;i<ms;i++){
000150   0ab2     incf    0x32, 0x1        	INCF	r0x1006,F
000151   1903     btfsc   0x03, 0x2        	BTFSC	STATUS,2
000152   0ab3     incf    0x33, 0x1        	INCF	r0x1007,F
000153   293a     goto    0x013a           	GOTO	_00110_DS_
                                           _00112_DS_
000154   0008     return                   	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           
                                           ;	code size estimation:
                                           ;	  310+   29 =   339 instructions (  736 byte)
                                           
                                           	end
                                                   LIST
                                           
                                           ;==========================================================================
                                           ; Build date : Oct 21 2015
                                           ;  MPASM PIC16F877 processor include
                                           ; 
                                           ;  (c) Copyright 1999-2015 Microchip Technology, All rights reserved
                                           ;==========================================================================
                                           
                                                   NOLIST
                                                   LIST
                                           
                                           ;==========================================================================
                                           ; Build date : Oct 21 2015
                                           ;  MPASM PIC16F630 processor include
                                           ; 
                                           ;  (c) Copyright 1999-2015 Microchip Technology, All rights reserved
                                           ;==========================================================================
                                           
                                                   NOLIST
